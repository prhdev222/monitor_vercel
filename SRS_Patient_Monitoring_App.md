# Software Requirements Specification (SRS)
## เว็บแอปพลิเคชันบันทึกค่าความดันโลหิตและน้ำตาลในเลือด

**เวอร์ชัน:** 1.0  
**วันที่:** 2024  
**ผู้จัดทำ:** Development Team  

---

## 1. บทนำ (Introduction)

### 1.1 วัตถุประสงค์ (Purpose)

การพัฒนาเว็บแอปพลิเคชันสำหรับบันทึกค่า Blood Pressure (BP) และ Dextrostrip (DTX) ที่บ้าน เพื่อให้ผู้ใช้สามารถบันทึกข้อมูลสุขภาพและส่งผลให้แพทย์ตรวจสอบได้อย่างสะดวกและปลอดภัย

แอปพลิเคชันจะเชื่อมต่อกับระบบคลาวด์เพื่อจัดเก็บข้อมูลโดยใช้ Supabase หรือ Neon และใช้ Vercel สำหรับการ deploy เพื่อให้เข้าถึงได้จากทุกที่

### 1.2 ขอบเขต (Scope)

- ผู้ใช้สามารถบันทึกค่า BP และ DTX รายวันได้
- ผู้ใช้สามารถดูประวัติการบันทึกค่าในรูปแบบกราฟและตาราง
- ข้อมูลจะถูกส่งไปยังแพทย์ในรูปแบบที่เข้าใจง่าย
- ระบบรองรับการจัดการข้อมูลตาม PDPA
- ข้อมูลจะถูกเก็บไว้ 3 เดือนแล้วลบอัตโนมัติ
- ระบบสามารถส่งอีเมลข้อมูลให้คลินิกได้

### 1.3 ผู้ใช้ที่เกี่ยวข้อง (Stakeholders)

#### 1.3.1 ผู้ใช้หลัก (Primary Users)
- **ผู้ป่วย/ผู้ใช้ทั่วไป**: ผู้ที่ต้องการบันทึกค่า BP และ DTX ของตนเอง
- **แพทย์**: ผู้ที่สามารถดูผลการวัดของผู้ใช้และให้คำแนะนำ

#### 1.3.2 ผู้ใช้รอง (Secondary Users)
- **ผู้ดูแลระบบ**: ผู้จัดการระบบและฐานข้อมูล
- **เจ้าหน้าที่คลินิก**: ผู้รับข้อมูลและประสานงานกับแพทย์

### 1.4 ข้อกำหนดเบื้องต้น (Prerequisites)

- ระบบต้องรองรับผู้ใช้หลายคนพร้อมกัน
- ใช้งานได้ทั้งบนเว็บและมือถือ (Responsive Design)
- ข้อมูลต้องถูกจัดเก็บในฐานข้อมูลที่สามารถเข้าถึงได้จากทุกที่
- ระบบจะบันทึกข้อมูลของผู้ป่วยแต่ละคนไว้ 3 เดือนแล้วลบข้อมูลอัตโนมัติ
- มีการจัดการตาม PDPA พร้อมช่องติ๊กการยินยอมให้ข้อมูล
- ผู้ป่วยสามารถดูข้อมูลของตนเองได้เท่านั้น
- ระบบสามารถส่งอีเมลข้อมูลให้คลินิกได้

---

## 2. ข้อกำหนดการทำงาน (Functional Requirements)

### 2.1 การจัดการผู้ใช้ (User Management)

#### FR-001: การลงทะเบียนผู้ใช้
- ระบบต้องให้ผู้ใช้ลงทะเบียนด้วยอีเมลและรหัสผ่าน
- ต้องมีการยืนยันอีเมลก่อนใช้งาน
- ต้องมีช่องติ๊กยินยอมตาม PDPA

#### FR-002: การเข้าสู่ระบบ
- ระบบต้องให้ผู้ใช้เข้าสู่ระบบด้วยอีเมลและรหัสผ่าน
- ต้องมีระบบ "จำรหัสผ่าน" (Remember Me)
- ต้องมีระบบรีเซ็ตรหัสผ่าน

#### FR-003: การจัดการโปรไฟล์
- ผู้ใช้ต้องสามารถแก้ไขข้อมูลส่วนตัวได้
- ต้องสามารถเปลี่ยนรหัสผ่านได้
- ต้องสามารถยกเลิกการยินยอมข้อมูลได้

### 2.2 การบันทึกข้อมูลสุขภาพ (Health Data Recording)

#### FR-004: การบันทึกค่าความดันโลหิต
- ระบบต้องให้ผู้ใช้บันทึกค่า Systolic และ Diastolic
- ต้องบันทึกวันที่และเวลาที่วัด
- ต้องมีช่องหมายเหตุเพิ่มเติม
- ต้องตรวจสอบความถูกต้องของข้อมูล (เช่น ค่าที่สมเหตุสมผล)

#### FR-005: การบันทึกค่าน้ำตาลในเลือด
- ระบบต้องให้ผู้ใช้บันทึกค่า DTX
- ต้องบันทึกวันที่และเวลาที่วัด
- ต้องมีช่องหมายเหตุเพิ่มเติม
- ต้องตรวจสอบความถูกต้องของข้อมูล

#### FR-006: การแก้ไขและลบข้อมูล
- ผู้ใช้ต้องสามารถแก้ไขข้อมูลที่บันทึกแล้วได้
- ผู้ใช้ต้องสามารถลบข้อมูลที่บันทึกผิดได้
- ต้องมีระบบยืนยันก่อนลบข้อมูล

### 2.3 การแสดงผลข้อมูล (Data Visualization)

#### FR-007: การดูประวัติข้อมูล
- ระบบต้องแสดงประวัติข้อมูลในรูปแบบตาราง
- ต้องสามารถกรองข้อมูลตามช่วงวันที่ได้
- ต้องสามารถเรียงลำดับข้อมูลได้

#### FR-008: การแสดงกราฟ
- ระบบต้องแสดงกราฟเส้นสำหรับค่า BP และ DTX
- ต้องสามารถเลือกช่วงเวลาที่ต้องการดูได้
- ต้องมีกราฟเปรียบเทียบระหว่างค่า BP และ DTX

#### FR-009: การส่งออกข้อมูล
- ระบบต้องสามารถส่งออกข้อมูลเป็น PDF ได้
- ต้องสามารถส่งออกข้อมูลเป็น Excel ได้
- ต้องมีรูปแบบรายงานที่เข้าใจง่ายสำหรับแพทย์

### 2.4 การจัดการข้อมูล (Data Management)

#### FR-010: การลบข้อมูลอัตโนมัติ
- ระบบต้องลบข้อมูลที่เก่ากว่า 3 เดือนอัตโนมัติ
- ต้องแจ้งเตือนผู้ใช้ก่อนลบข้อมูล 7 วัน
- ต้องมีระบบสำรองข้อมูลก่อนลบ

#### FR-011: การส่งอีเมลข้อมูล
- ระบบต้องสามารถส่งอีเมลข้อมูลทั้งหมดให้คลินิกได้
- ต้องสามารถส่งอีเมลข้อมูลก่อนลบได้
- ต้องมีรูปแบบอีเมลที่อ่านง่าย

---

## 3. ข้อกำหนดที่ไม่ใช่การทำงาน (Non-Functional Requirements)

### 3.1 ประสิทธิภาพ (Performance)

#### NFR-001: เวลาในการตอบสนอง
- ระบบต้องตอบสนองภายใน 3 วินาทีสำหรับการโหลดหน้าเว็บ
- การบันทึกข้อมูลต้องเสร็จสิ้นภายใน 2 วินาที
- การสร้างกราฟต้องเสร็จสิ้นภายใน 5 วินาที

#### NFR-002: ความสามารถในการรองรับผู้ใช้
- ระบบต้องรองรับผู้ใช้พร้อมกันอย่างน้อย 100 คน
- ฐานข้อมูลต้องรองรับข้อมูลผู้ใช้ 1,000 คน

### 3.2 ความปลอดภัย (Security)

#### NFR-003: การเข้ารหัสข้อมูล
- ข้อมูลทั้งหมดต้องถูกเข้ารหัสในขณะส่งผ่าน (HTTPS)
- ข้อมูลในฐานข้อมูลต้องถูกเข้ารหัส
- รหัสผ่านต้องถูกเข้ารหัสด้วย bcrypt

#### NFR-004: การควบคุมการเข้าถึง
- ผู้ใช้ต้องเข้าสู่ระบบก่อนใช้งาน
- ผู้ใช้สามารถดูข้อมูลของตนเองได้เท่านั้น
- ต้องมีระบบ session timeout

### 3.3 ความพร้อมใช้งาน (Availability)

#### NFR-005: เวลาทำงาน
- ระบบต้องทำงานได้ 99% ของเวลา
- ต้องมีระบบสำรองข้อมูล
- ต้องมีระบบแจ้งเตือนเมื่อระบบล่ม

### 3.4 การใช้งาน (Usability)

#### NFR-006: การออกแบบ
- ระบบต้องใช้งานง่ายสำหรับผู้สูงอายุ
- ต้องมีหน้าจอที่ชัดเจนและอ่านง่าย
- ต้องรองรับการใช้งานบนมือถือ

---

## 4. ข้อกำหนดด้านความปลอดภัยและ PDPA

### 4.1 การจัดการข้อมูลส่วนบุคคล

#### SEC-001: การยินยอมข้อมูล
- ต้องมีช่องติ๊กยินยอมการเก็บข้อมูลส่วนบุคคล
- ต้องแจ้งวัตถุประสงค์การใช้งานข้อมูล
- ต้องแจ้งระยะเวลาการเก็บข้อมูล (3 เดือน)

#### SEC-002: สิทธิ์ของผู้ใช้
- ผู้ใช้ต้องสามารถดูข้อมูลของตนเองได้
- ผู้ใช้ต้องสามารถแก้ไขข้อมูลของตนเองได้
- ผู้ใช้ต้องสามารถลบข้อมูลของตนเองได้
- ผู้ใช้ต้องสามารถยกเลิกการยินยอมได้

#### SEC-003: การแชร์ข้อมูลกับแพทย์
- ต้องมีการยินยอมแยกต่างหากสำหรับการแชร์ข้อมูลกับแพทย์
- ข้อมูลที่แชร์ต้องเป็นข้อมูลที่จำเป็นเท่านั้น
- ต้องมีระบบควบคุมการเข้าถึงข้อมูลของแพทย์

### 4.2 การรักษาความปลอดภัยข้อมูล

#### SEC-004: การเข้ารหัส
- ข้อมูลทั้งหมดต้องถูกเข้ารหัสในขณะส่งผ่าน
- ข้อมูลในฐานข้อมูลต้องถูกเข้ารหัส
- ต้องใช้ HTTPS สำหรับการเชื่อมต่อทั้งหมด

#### SEC-005: การควบคุมการเข้าถึง
- ต้องมีระบบ authentication และ authorization
- ต้องมีระบบ session management
- ต้องมีระบบ audit log

---

## 5. ข้อกำหนดทางเทคนิค (Technical Requirements)

### 5.1 สถาปัตยกรรมระบบ

#### TECH-001: Frontend
- ใช้ React.js หรือ Next.js
- ใช้ TypeScript สำหรับ type safety
- ใช้ Tailwind CSS สำหรับ styling
- ต้อง responsive design

#### TECH-002: Backend
- ใช้ Next.js API Routes หรือ Express.js
- ใช้ TypeScript
- ใช้ JWT สำหรับ authentication

#### TECH-003: ฐานข้อมูล
- ใช้ Supabase หรือ Neon (PostgreSQL)
- ต้องมีระบบ backup
- ต้องมีระบบ migration

#### TECH-004: การ Deploy
- ใช้ Vercel สำหรับ frontend และ backend
- ใช้ environment variables สำหรับ configuration
- ต้องมี CI/CD pipeline

### 5.2 การเชื่อมต่อภายนอก

#### TECH-005: การส่งอีเมล
- ใช้ SendGrid หรือ Resend
- ต้องมี template สำหรับอีเมล
- ต้องมีระบบ retry สำหรับการส่งอีเมล

#### TECH-006: การจัดการไฟล์
- ใช้ Vercel Blob หรือ AWS S3
- ต้องมีระบบ compression สำหรับไฟล์
- ต้องมีระบบ CDN

---

## 6. ข้อกำหนดการทดสอบ (Testing Requirements)

### 6.1 การทดสอบหน่วย (Unit Testing)
- ต้องมี test coverage อย่างน้อย 80%
- ต้องทดสอบทุก function และ component
- ต้องใช้ Jest และ React Testing Library

### 6.2 การทดสอบการรวม (Integration Testing)
- ต้องทดสอบการเชื่อมต่อกับฐานข้อมูล
- ต้องทดสอบการส่งอีเมล
- ต้องทดสอบการ authentication

### 6.3 การทดสอบระบบ (System Testing)
- ต้องทดสอบการทำงานของระบบทั้งหมด
- ต้องทดสอบการใช้งานจริง
- ต้องทดสอบการทำงานบนอุปกรณ์ต่างๆ

---

## 7. ข้อกำหนดการบำรุงรักษา (Maintenance Requirements)

### 7.1 การอัปเดตระบบ
- ต้องมีระบบ version control
- ต้องมีระบบ rollback
- ต้องมีระบบ monitoring

### 7.2 การสำรองข้อมูล
- ต้องสำรองข้อมูลทุกวัน
- ต้องทดสอบการกู้คืนข้อมูล
- ต้องเก็บ backup ไว้อย่างน้อย 30 วัน

---

## 8. ข้อกำหนดการใช้งาน (User Requirements)

### 8.1 ข้อกำหนดเบื้องต้นของผู้ใช้
- ต้องมีอินเทอร์เน็ต
- ต้องมีเบราว์เซอร์ที่รองรับ HTML5
- ต้องมีอุปกรณ์วัด BP และ DTX

### 8.2 การฝึกอบรม
- ต้องมีคู่มือการใช้งาน
- ต้องมีวิดีโอสอนการใช้งาน
- ต้องมีระบบช่วยเหลือ (Help System)

---

## 9. ข้อกำหนดการติดตั้งและ Deploy

### 9.1 การติดตั้ง
- ต้องมี Docker container
- ต้องมี environment configuration
- ต้องมี database migration scripts

### 9.2 การ Deploy
- ต้องใช้ Vercel
- ต้องมี staging environment
- ต้องมี production environment

---

## 10. ข้อกำหนดการตรวจสอบและยอมรับ

### 10.1 เกณฑ์การยอมรับ
- ระบบต้องผ่านการทดสอบทั้งหมด
- ต้องมีเอกสารการใช้งาน
- ต้องมีระบบ monitoring

### 10.2 การส่งมอบ
- ต้องส่งมอบ source code
- ต้องส่งมอบเอกสาร
- ต้องส่งมอบระบบ production

---

## 11. ข้อกำหนดการเปลี่ยนแปลง

### 11.1 การจัดการการเปลี่ยนแปลง
- ต้องมีระบบ change request
- ต้องมีระบบ version control
- ต้องมีระบบ impact analysis

### 11.2 การอัปเดต
- ต้องมีระบบ hotfix
- ต้องมีระบบ minor update
- ต้องมีระบบ major update

---

## 12. ข้อกำหนดการสนับสนุน

### 12.1 การสนับสนุนผู้ใช้
- ต้องมีระบบ ticket
- ต้องมีระบบ chat support
- ต้องมีระบบ FAQ

### 12.2 การสนับสนุนทางเทคนิค
- ต้องมีระบบ monitoring
- ต้องมีระบบ alerting
- ต้องมีระบบ logging

---

## 13. ข้อกำหนดการสิ้นสุดโครงการ

### 13.1 การส่งมอบ
- ต้องส่งมอบระบบที่ทำงานได้
- ต้องส่งมอบเอกสารทั้งหมด
- ต้องส่งมอบการฝึกอบรม

### 13.2 การบำรุงรักษา
- ต้องมีระบบบำรุงรักษา 1 ปี
- ต้องมีระบบอัปเดต
- ต้องมีระบบสนับสนุน

---

## 14. เอกสารอ้างอิง

1. Personal Data Protection Act (PDPA) Thailand
2. Medical Device Regulations
3. Web Content Accessibility Guidelines (WCAG)
4. OWASP Security Guidelines
5. React.js Documentation
6. Next.js Documentation
7. Supabase Documentation
8. Vercel Documentation

---

## 15. ภาคผนวก

### 15.1 Glossary
- **BP**: Blood Pressure (ความดันโลหิต)
- **DTX**: Dextrostrip (การวัดน้ำตาลในเลือด)
- **PDPA**: Personal Data Protection Act
- **API**: Application Programming Interface
- **JWT**: JSON Web Token
- **HTTPS**: HyperText Transfer Protocol Secure

### 15.2 Acronyms
- SRS: Software Requirements Specification
- UI: User Interface
- UX: User Experience
- DB: Database
- CRUD: Create, Read, Update, Delete
- REST: Representational State Transfer

---

**หมายเหตุ:** เอกสารนี้เป็นเอกสารร่างและอาจมีการปรับปรุงตามความต้องการที่เปลี่ยนแปลงไป
